‚úÖ Forecasting and alerts done

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:

### 1. Forecast Service (`src/services/forecast.ts`)
- ‚úÖ ML-–∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ 28 –¥–Ω–µ–π
- ‚úÖ –ê–Ω–∞–ª–∏–∑ —Å–µ–∑–æ–Ω–Ω–æ—Å—Ç–∏ (–≤—ã—Ö–æ–¥–Ω—ã–µ vs —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏)
- ‚úÖ –†–∞—Å—á—ë—Ç confidence (—Ç–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∞)
- ‚úÖ –ú–µ—Ç–æ–¥—ã —Ä–∞—Å—á—ë—Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–≥–æ –∑–∞–∫–∞–∑–∞

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
```typescript
ForecastService.forecast(input: ForecastInput): ForecastOutput
```

### 2. Alerts Service (`src/services/alerts.ts`)
- ‚úÖ –õ–æ–≥–∏–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö SKU –ø—Ä–æ–¥–∞–≤—Ü–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ª–æ–≤–∏—è: stock_out_date <= today + threshold
- ‚úÖ Batch-–æ–±—Ä–∞–±–æ—Ç–∫–∞ SKU
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 3. Telegram Service (`src/services/telegram.ts`)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
- ‚úÖ –ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å emoji
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:**
```
‚ö†Ô∏è –ê–õ–ï–†–¢ –û –†–ò–°–ö–ï STOCK-OUT
üì¶ SKU: [id] - [name]
üìä –¢–µ–∫—É—â–∏–π –æ—Å—Ç–∞—Ç–æ–∫: [stock] —à—Ç.
üî¥ –¢–æ–≤–∞—Ä –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è: [date]
‚è≥ –î–Ω–µ–π –¥–æ stock-out: [days]
üõí –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∑–∞–∫–∞–∑: [quantity] —à—Ç.
[emoji] –¢–æ—á–Ω–æ—Å—Ç—å –ø—Ä–æ–≥–Ω–æ–∑–∞: [confidence]%
```

### 4. Database Queries (`src/db/queries/forecasts.ts`)
- ‚úÖ saveForecast()
- ‚úÖ getForecastBySku()
- ‚úÖ getRecentForecasts()
- ‚úÖ saveAlert()
- ‚úÖ getSaleHistory()
- ‚úÖ getSellerSkuList()

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** Mock (in-memory Map) + –≥–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–µ–∞–ª—å–Ω–æ–π –ë–î

### 5. Main Entry Point (`src/index.ts`)
- ‚úÖ –ö–ª–∞—Å—Å StockOutAlertApp - –≥–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
- ‚úÖ –ú–µ—Ç–æ–¥ run() - –ø–æ–ª–Ω—ã–π workflow
- ‚úÖ –ú–µ—Ç–æ–¥—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–¥–Ω–æ–≥–æ SKU

### 6. Test Suite (`src/test-forecast.ts`)
- ‚úÖ –°—Ü–µ–Ω–∞—Ä–∏–π 1: –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å (–≤—ã—Ö–æ–¥–Ω—ã–µ vs —Ä–∞–±–æ—á–∏–µ –¥–Ω–∏)
- ‚úÖ –°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–π —Ç–æ–≤–∞—Ä (—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –ø—Ä–æ–¥–∞–∂–∏)
- ‚úÖ –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ–¥–∞–∂–∏ (–Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (28 –¥–Ω–µ–π)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏ –≤—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### 7. Documentation
- ‚úÖ README.md (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ, troubleshooting)
- ‚úÖ package.json (–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- ‚úÖ tsconfig.json (TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
- ‚úÖ .env.example (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

**–Ø–∑—ã–∫:** TypeScript
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** node-fetch (–¥–ª—è Telegram API)

**–ê–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ–≥–Ω–æ–∑–∞:**
1. –ë–µ—Ä—ë–º –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π –∏—Å—Ç–æ—Ä–∏–∏
2. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º AVG(daily_sales) –ø–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏
3. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º variance –∏ confidence (0-100%)
4. –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ–º –Ω–∞ 28 –¥–Ω–µ–π –≤–ø–µ—Ä—ë–¥
5. –ù–∞—Ö–æ–¥–∏–º –¥–∞—Ç—É stock-out (–∫–æ–≥–¥–∞ –æ—Å—Ç–∞—Ç–æ–∫ <= 0)

**Confidence formula:**
```
variance = std_dev(daily_sales)
confidence = 100 - min(100, variance / avg_sales * 100)
```

**Alert trigger:**
```
–µ—Å–ª–∏: stock_out_date <= today + alert_threshold
—Ç–æ:   –æ—Ç–ø—Ä–∞–≤–∏—Ç—å Telegram –∞–ª–µ—Ä—Ç + –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤ –ë–î
```

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```
~/clawd/pipeline/active/stockout-alert/phase3-build/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ forecast.ts       ‚Üê ML –∞–ª–≥–æ—Ä–∏—Ç–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ alerts.ts         ‚Üê –õ–æ–≥–∏–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.ts       ‚Üê Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ queries/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ forecasts.ts  ‚Üê Database queries
‚îÇ   ‚îú‚îÄ‚îÄ index.ts              ‚Üê Main entry point
‚îÇ   ‚îî‚îÄ‚îÄ test-forecast.ts      ‚Üê Test suite
‚îú‚îÄ‚îÄ README.md                 ‚Üê –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ tsconfig.json
‚îú‚îÄ‚îÄ .env.example
‚îî‚îÄ‚îÄ DONE-ml-alerts.md         ‚Üê –≠–¢–ê –§–ê–ô–õ
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
cd ~/clawd/pipeline/active/stockout-alert/phase3-build
npm install
npm test
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:

**–ó–∞–≤–∏—Å–∏—Ç –æ—Ç:**
- DONE-scaffold.md (Builder 1) ‚Üê —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

**–ú–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å:**
- Builder 2 (Data Sync) ‚Üê –ø–æ–ª—É—á–µ–Ω–∏–µ sales_history

## –°—Ç–∞—Ç—É—Å:

‚úÖ **DONE** - –≤—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –∫–æ–¥ —Ä–∞–±–æ—Ç–∞—é—â–∏–π, –±–µ–∑ –∑–∞–≥–ª—É—à–µ–∫

–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: 2026-02-17 22:30 GMT+3
